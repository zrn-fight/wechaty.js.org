"use strict";(self.webpackChunkwechaty_docusaurus=self.webpackChunkwechaty_docusaurus||[]).push([[4721],{3905:function(t,e,a){a.d(e,{Zo:function(){return c},kt:function(){return h}});var n=a(67294);function o(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function r(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,n)}return a}function i(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?r(Object(a),!0).forEach((function(e){o(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function l(t,e){if(null==t)return{};var a,n,o=function(t,e){if(null==t)return{};var a,n,o={},r=Object.keys(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||(o[a]=t[a]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(n=0;n<r.length;n++)a=r[n],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(o[a]=t[a])}return o}var m=n.createContext({}),p=function(t){var e=n.useContext(m),a=e;return t&&(a="function"==typeof t?t(e):i(i({},e),t)),a},c=function(t){var e=p(t.components);return n.createElement(m.Provider,{value:e},t.children)},d={inlineCode:"code",wrapper:function(t){var e=t.children;return n.createElement(n.Fragment,{},e)}},s=n.forwardRef((function(t,e){var a=t.components,o=t.mdxType,r=t.originalType,m=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),s=p(a),h=o,k=s["".concat(m,".").concat(h)]||s[h]||d[h]||r;return a?n.createElement(k,i(i({ref:e},c),{},{components:a})):n.createElement(k,i({ref:e},c))}));function h(t,e){var a=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=a.length,i=new Array(r);i[0]=s;var l={};for(var m in e)hasOwnProperty.call(e,m)&&(l[m]=e[m]);l.originalType=t,l.mdxType="string"==typeof t?t:o,i[1]=l;for(var p=2;p<r;p++)i[p]=a[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"},14594:function(t,e,a){a.r(e),a.d(e,{frontMatter:function(){return l},contentTitle:function(){return m},metadata:function(){return p},toc:function(){return c},default:function(){return s}});var n=a(87462),o=a(63366),r=(a(67294),a(3905)),i=["components"],l={title:"Room"},m=void 0,p={unversionedId:"api/room",id:"api/room",isDocsHomePage:!1,title:"Room",description:"Class",source:"@site/docs/api/room.md",sourceDirName:"api",slug:"/api/room",permalink:"/docs/api/room",editUrl:"https://github.com/wechaty/wechaty.js.org/edit/main/docusaurus/docs/api/room.md",tags:[],version:"current",lastUpdatedBy:"Shraddha",lastUpdatedAt:1631524447,formattedLastUpdatedAt:"9/13/2021",frontMatter:{title:"Room"},sidebar:"docs",previous:{title:"Contact Class",permalink:"/docs/api/contact"},next:{title:"Room Invitation",permalink:"/docs/api/room-invitation"}},c=[{value:"Class",id:"class",children:[{value:"Room",id:"room",children:[]}]},{value:"Global class <code>Room</code>",id:"global-class-room",children:[{value:"Instance Methods",id:"instance-methods",children:[]},{value:"Static Methods",id:"static-methods",children:[]},{value:"room.sync() \u21d2 <code>Promise &lt;void&gt;</code>",id:"roomsync--promise-void",children:[]},{value:"room.say(text Or Contact Or File Or UrlLink Or MiniProgram, ...mentionList) \u21d2 <code>Promise &lt;void&gt;</code>",id:"roomsaytext-or-contact-or-file-or-urllink-or-miniprogram-mentionlist--promise-void",children:[]},{value:"room.on(event, listener) \u21d2 <code>this</code>",id:"roomonevent-listener--this",children:[]},{value:"room.add(contact) \u21d2 <code>Promise &lt;void&gt;</code>",id:"roomaddcontact--promise-void",children:[]},{value:"room.del(contact) \u21d2 <code>Promise &lt;void&gt;</code>",id:"roomdelcontact--promise-void",children:[]},{value:"room.quit() \u21d2 <code>Promise &lt;void&gt;</code>",id:"roomquit--promise-void",children:[]},{value:"room.topic([newTopic]) \u21d2 <code>Promise &lt;void | string&gt;</code>",id:"roomtopicnewtopic--promise-void--string",children:[]},{value:"room.announce([text]) \u21d2 <code>Promise &lt;void | string&gt;</code>",id:"roomannouncetext--promise-void--string",children:[]},{value:"room.qrcode() \u21d2 <code>Promise &lt;string&gt;</code>",id:"roomqrcode--promise-string",children:[]},{value:"room.alias(contact) \u21d2 <code>Promise &lt;string | null&gt;</code>",id:"roomaliascontact--promise-string--null",children:[]},{value:"room.has(contact) \u21d2 <code>Promise &lt;boolean&gt;</code>",id:"roomhascontact--promise-boolean",children:[]},{value:"room.memberAll([query]) \u21d2 <code>Promise &lt;Contact []&gt;</code>",id:"roommemberallquery--promise-contact-",children:[]},{value:"room.member(queryArg) \u21d2 <code>Promise &lt;Contact | null&gt;</code>",id:"roommemberqueryarg--promise-contact--null",children:[]},{value:"room.owner() \u21d2 <code>Contact</code> | <code>null</code>",id:"roomowner--contact--null",children:[]},{value:"room.avatar() \u21d2 <code>Promise &lt;FileBox&gt;</code>",id:"roomavatar--promise-filebox",children:[]}]},{value:"Static Methods",id:"static-methods-1",children:[{value:"Room.create(contactList, [topic]) \u21d2 Promise <Room>",id:"roomcreatecontactlist-topic--promise-room",children:[]},{value:"Room.findAll([query]) \u21d2 <code>Promise &lt;Room []&gt;</code>",id:"roomfindallquery--promise-room-",children:[]},{value:"Room.find(query) \u21d2 <code>Promise &lt;Room&gt;</code>",id:"roomfindquery--promise-room",children:[]}]},{value:"Typedefs",id:"typedefs",children:[]},{value:"RoomQueryFilter",id:"roomqueryfilter",children:[{value:"Properties",id:"properties-1",children:[]}]},{value:"RoomEventName",id:"roomeventname",children:[{value:"Properties",id:"properties-2",children:[]}]},{value:"RoomEventFunction",id:"roomeventfunction",children:[{value:"Properties",id:"properties-3",children:[]}]},{value:"RoomMemberQueryFilter",id:"roommemberqueryfilter",children:[{value:"Properties",id:"properties-4",children:[]}]}],d={toc:c};function s(t){var e=t.components,a=(0,o.Z)(t,i);return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:e,mdxType:"MDXLayout"}),(0,r.kt)("h2",{id:"class"},"Class"),(0,r.kt)("h3",{id:"room"},"Room"),(0,r.kt)("p",null,"The ",(0,r.kt)("inlineCode",{parentName:"p"},"Room")," ia a global class.All wechat rooms","(","groups",")"," will be encapsulated as a Room."),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/blob/1523c5e02be46ebe2cc172a744b2fbe53351540e/examples/room-bot.ts"},"Examples/Room-Bot")),(0,r.kt)("h4",{id:"properties"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"id"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Get Room id. This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))))),(0,r.kt)("h2",{id:"global-class-room"},"Global class ",(0,r.kt)("inlineCode",{parentName:"h2"},"Room")),(0,r.kt)("h3",{id:"instance-methods"},"Instance Methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Instance Methods"),(0,r.kt)("th",{parentName:"tr",align:null},"Return Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"sync()"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"say(text Or Contact Or File Or Url, ...mentionList)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"on(event, listener)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Room"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"add(contact)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"del(contact)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"quit()"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"topic(newTopic)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"announce(text)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"qrcode()"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"alias(contact)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"has(contact)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"memberAll(query)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"member(queryArg)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"owner()"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Contact or null"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"avatar()"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))))),(0,r.kt)("h3",{id:"static-methods"},"Static Methods"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"Static Methods"),(0,r.kt)("th",{parentName:"tr",align:null},"Return Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"create(contactList,topic)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise <Room>"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"findAll(query)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"find(query)"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"Promise <Room> or null"))))),(0,r.kt)("h3",{id:"roomsync--promise-void"},"room.sync","(",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void>")),(0,r.kt)("p",null,"The method forces reload of data for Room and Sync data from lowlevel API again."),(0,r.kt)("h4",{id:"example"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await room.sync()\n")),(0,r.kt)("h3",{id:"roomsaytext-or-contact-or-file-or-urllink-or-miniprogram-mentionlist--promise-void"},"room.say","(","text Or Contact Or File Or UrlLink Or MiniProgram, ...mentionList",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void>")),(0,r.kt)("p",null,"The method sends message inside Room, if set mentionList, wechaty will mention the contact list as well."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"text Or Contact Or File Or UrlLink Or MiniProgram"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"Contact")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"FileBox")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"UrlLink")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"MiniProgram")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Send ",(0,r.kt)("inlineCode",{parentName:"td"},"text"),", ",(0,r.kt)("inlineCode",{parentName:"td"},"media file")," or ",(0,r.kt)("inlineCode",{parentName:"td"},"link")," inside Room.   You can use ",(0,r.kt)("a",{parentName:"td",href:"https://www.npmjs.com/package/file-box"},"FileBox")," to send file")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"...mentionList"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Contact []")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Send content inside Room, and mention @contact list.")))),(0,r.kt)("h4",{id:"example-1"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"import { FileBox }  from 'file-box'\nimport {\n  Wechaty,\n  UrlLink,\n  MiniProgram,\n}  from 'wechaty'\n\nconst bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'wechaty'})\n\n// 1. Send text inside Room\n\nawait room.say('Hello world!')\n\n// 2. Send media file inside Room\n\nimport { FileBox }  from 'file-box'\nconst fileBox1 = FileBox.fromUrl('https://wechaty.github.io/wechaty/images/bot-qr-code.png')\nconst fileBox2 = FileBox.fromLocal('/tmp/text.txt')\nawait room.say(fileBox1)\nawait room.say(fileBox2)\n\n// 3. Send Contact Card in a room\n\nconst contactCard = await bot.Contact.find({name: 'lijiarui'}) // change 'lijiarui' to any of the room member\nawait room.say(contactCard)\n\n// 4. Send text inside room and mention @mention contact\n\nconst members = await room.memberAll() // all members in this room\nconst someMembers = members.slice(0, 3);\nawait room.say('Hello world!', ...someMembers)\n\n// 5. send Link inside room\n\nconst linkPayload = new UrlLink({\n  description : 'WeChat Bot SDK for Individual Account, Powered by TypeScript, Docker, and Love',\n  thumbnailUrl: 'https://avatars0.githubusercontent.com/u/25162437?s=200&v=4',\n  title       : 'Welcome to Wechaty',\n  url         : 'https://github.com/wechaty/wechaty',\n})\nawait room.say(linkPayload)\n\n// 6. send MiniProgram (only supported by `wechaty-puppet-macpro`)\n\nconst miniProgram = new MiniProgram ({\n  appid              : 'gh_0aa444a25adc',\n  title              : '\u6211\u6b63\u5728\u4f7f\u7528Authing\u8ba4\u8bc1\u8eab\u4efd\uff0c\u4f60\u4e5f\u6765\u8bd5\u8bd5\u5427',\n  pagePath           : 'routes/explore.html',\n  description        : '\u8eab\u4efd\u7ba1\u5bb6',\n  thumbUrl           : '30590201000452305002010002041092541302033d0af802040b30feb602045df0c2c5042b777875706c6f61645f31373533353339353230344063686174726f6f6d3131355f313537363035393538390204010400030201000400',\n  thumbKey           : '42f8609e62817ae45cf7d8fefb532e83',\n});\nawait room.say(miniProgram);\n")),(0,r.kt)("h3",{id:"roomonevent-listener--this"},"room.on","(","event, listener",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"this")),(0,r.kt)("p",null,"The method returns: ",(0,r.kt)("inlineCode",{parentName:"p"},"this")," - - Room for chain."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"event"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomEventName"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomEventName"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Emit WechatyEvent")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"listener"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomEventFunction"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomEventFunction"))),(0,r.kt)("td",{parentName:"tr",align:"left"},"Depends on the WechatyEvent")))),(0,r.kt)("h4",{id:"example--eventjoin-"},"Example  ","(","Event:join ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'topic of your room'}) // change `event-room` to any room topic in your wechat\nif (room) {\n  room.on('join', (room, inviteeList, inviter) => {\n    const nameList = inviteeList.map(c => c.name()).join(',')\n    console.log(`Room got new member ${nameList}, invited by ${inviter}`)\n  })\n}\n")),(0,r.kt)("h4",{id:"example-eventleave-"},"Example ","(","Event:leave ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'topic of your room'}) // change `event-room` to any room topic in your wechat\nif (room) {\n  room.on('leave', (room, leaverList) => {\n    const nameList = leaverList.map(c => c.name()).join(',')\n    console.log(`Room lost member ${nameList}`)\n  })\n}\n")),(0,r.kt)("h4",{id:"example-eventtopic-"},"Example ","(","Event:topic ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'topic of your room'}) // change `event-room` to any room topic in your wechat\nif (room) {\n  room.on('topic', (room, topic, oldTopic, changer) => {\n    console.log(`Room topic changed from ${oldTopic} to ${topic} by ${changer.name()}`)\n  })\n}\n")),(0,r.kt)("h4",{id:"example-eventinvite-"},"Example ","(","Event:invite ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'topic of your room'}) // change `event-room` to any room topic in your wechat\nif (room) {\n  room.on('invite', roomInvitation => roomInvitation.accept())\n}\n")),(0,r.kt)("h3",{id:"roomaddcontact--promise-void"},"room.add","(","contact",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void>")),(0,r.kt)("p",null,"The method adds contact in a room.Check the below example for implementation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table")),(0,r.kt)("p",{parentName:"blockquote"},"see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/issues/1441"},"Web version of WeChat closed group interface"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contact"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Contact"))))),(0,r.kt)("h4",{id:"example-2"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst contact = await bot.Contact.find({name: 'lijiarui'}) // change 'lijiarui' to any contact in your wechat\nconst room = await bot.Room.find({topic: 'wechat'})        // change 'wechat' to any room topic in your wechat\nif (room) {\n  try {\n     await room.add(contact)\n  } catch(e) {\n     console.error(e)\n  }\n}\n")),(0,r.kt)("h3",{id:"roomdelcontact--promise-void"},"room.del","(","contact",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void>")),(0,r.kt)("p",null,"The method deletes a contact from the room .It works only when the bot is the owner of the room.Check the below example for implementation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table")),(0,r.kt)("p",{parentName:"blockquote"},"see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/issues/1441"},"Web version of WeChat closed group interface"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contact"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Contact"))))),(0,r.kt)("h4",{id:"example-3"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'wechat'})          // change 'wechat' to any room topic in your wechat\nconst contact = await bot.Contact.find({name: 'lijiarui'})   // change 'lijiarui' to any room member in the room you just set\nif (room) {\n  try {\n     await room.del(contact)\n  } catch(e) {\n     console.error(e)\n  }\n}\n")),(0,r.kt)("h3",{id:"roomquit--promise-void"},"room.quit","(",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void>")),(0,r.kt)("p",null,"This method helps the bot quit the room itself.Check the below example for implementation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("h4",{id:"example-4"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"await room.quit()\n")),(0,r.kt)("h3",{id:"roomtopicnewtopic--promise-void--string"},"room.topic","(","[","newTopic","]",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void | string>")),(0,r.kt)("p",null,"The method sets or gets topic from the room.Check the below example for implementation."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"[","newTopic","]"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"If set this para, it will change room topic.")))),(0,r.kt)("h4",{id:"example-when-you-say-anything-in-a-room-it-will-get-room-topic-"},"Example ","(","When you say anything in a room, it will get room topic. ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nbot\n.on('message', async m => {\n  const room = m.room()\n  if (room) {\n    const topic = await room.topic()\n    console.log(`room topic is : ${topic}`)\n  }\n})\n.start()\n")),(0,r.kt)("h4",{id:"example-when-you-say-anything-in-a-room-it-will-change-room-topic-"},"Example ",(0,r.kt)("em",{parentName:"h4"},"(","When you say anything in a room, it will change room topic. ",")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nbot\n.on('message', async m => {\n  const room = m.room()\n  if (room) {\n    const oldTopic = await room.topic()\n    await room.topic('change topic to wechaty!')\n    console.log(`room topic change from ${oldTopic} to ${room.topic()}`)\n  }\n})\n.start()\n")),(0,r.kt)("h3",{id:"roomannouncetext--promise-void--string"},"room.announce","(","[","text","]",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <void | string>")),(0,r.kt)("p",null,"The methos sets or gets announcement from the room.Check the below example for implementation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: It only works when bot is the owner of the room."),(0,r.kt)("p",{parentName:"blockquote"},"This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"[","text","]"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"If set this para, it will change room announce.")))),(0,r.kt)("h4",{id:"example--when-you-say-anything-in-a-room-it-will-get-room-announce-"},"Example  ","(","When you say anything in a room, it will get room announce. ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'your room'})\nconst announce = await room.announce()\nconsole.log(`room announce is : ${announce}`)\n")),(0,r.kt)("h4",{id:"example-when-you-say-anything-in-a-room-it-will-change-room-announce-"},"Example ","(","When you say anything in a room, it will change room announce. ",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'your room'})\nconst oldAnnounce = await room.announce()\nawait room.announce('change announce to wechaty!')\nconsole.log(`room announce change from ${oldAnnounce} to ${room.announce()}`)\n")),(0,r.kt)("h3",{id:"roomqrcode--promise-string"},"room.qrcode","(",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <string>")),(0,r.kt)("p",null,"This method get QR Code of the Room from the room, which can be scanned to join the room."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("h3",{id:"roomaliascontact--promise-string--null"},"room.alias","(","contact",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <string | null>")),(0,r.kt)("p",null,"The method gets the contact's roomAlias in the room.It returns  ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise <string | null>")," - - If a contact has an alias in room,otherwise return ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contact"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Contact"))))),(0,r.kt)("h4",{id:"example-5"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nbot\n.on('message', async m => {\n  const room = m.room()\n  const contact = m.from()\n  if (room) {\n    const alias = await room.alias(contact)\n    console.log(`${contact.name()} alias is ${alias}`)\n  }\n})\n.start()\n")),(0,r.kt)("h3",{id:"roomhascontact--promise-boolean"},"room.has","(","contact",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <boolean>")),(0,r.kt)("p",null,"Check if the room has member ",(0,r.kt)("inlineCode",{parentName:"p"},"contact"),", the return is a Promise and must be ",(0,r.kt)("inlineCode",{parentName:"p"},"await"),"-ed.The method returns ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," if has contact, else return ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contact"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Contact"))))),(0,r.kt)("h4",{id:"example-check-whether-lijiarui-is-in-the-room-wechaty"},"Example ",(0,r.kt)("em",{parentName:"h4"},"(","Check whether 'lijiarui' is in the room 'wechaty'",")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst contact = await bot.Contact.find({name: 'lijiarui'})   // change 'lijiarui' to any of contact in your wechat\nconst room = await bot.Room.find({topic: 'wechaty'})         // change 'wechaty' to any of the room in your wechat\nif (contact && room) {\n  if (await room.has(contact)) {\n    console.log(`${contact.name()} is in the room wechaty!`)\n  } else {\n    console.log(`${contact.name()} is not in the room wechaty!`)\n  }\n}\n")),(0,r.kt)("h3",{id:"roommemberallquery--promise-contact-"},"room.memberAll","(","[","query","]",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <Contact []>")),(0,r.kt)("p",null,"Find all contacts in a room"),(0,r.kt)("h4",{id:"definition"},"definition"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"name"),"                 the name-string set by user-self, should be called name, equal to ",(0,r.kt)("inlineCode",{parentName:"li"},"Contact.name()")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"roomAlias"),"            the name-string set by user-self in the room, should be called roomAlias"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"contactAlias"),"         the name-string set by bot for others, should be called alias, equal to ",(0,r.kt)("inlineCode",{parentName:"li"},"Contact.alias()"))),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"Kind"),": instance method of ",(0,r.kt)("a",{parentName:"p",href:"/docs/api/room#Room"},(0,r.kt)("inlineCode",{parentName:"a"},"Room"))),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"[","query","]"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomMemberQueryFilter"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomMemberQueryFilter"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Optional parameter, When use memberAll","(","name:string",")",", return all matched members, including name, roomAlias, contactAlias")))),(0,r.kt)("h4",{id:"example-6"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const memberList: Conatct[] = await room.memberAll()\nconsole.log(`room all member list: `, memberList)\n\nconst memberContactList: Conatct[] = await room.memberAll(`abc`)\nconsole.log(`contact list with all name, room alias, alias are abc:`, memberContactList)\n")),(0,r.kt)("h3",{id:"roommemberqueryarg--promise-contact--null"},"room.member","(","queryArg",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <Contact | null>")),(0,r.kt)("p",null,"This method finds all contacts in a room, if it gets many, then first one is returned."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"queryArg"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomMemberQueryFilter"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomMemberQueryFilter"))," ","|"," ",(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"When use member","(","name:string",")",", return all matched members, including name, roomAlias, contactAlias")))),(0,r.kt)("h4",{id:"example-find-member-by-name"},"Example ","(","Find member by name",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'wechaty'})           // change 'wechaty' to any room name in your wechat\nif (room) {\n  const member = await room.member('lijiarui')             // change 'lijiarui' to any room member in your wechat\n  if (member) {\n    console.log(`wechaty room got the member: ${member.name()}`)\n  } else {\n    console.log(`cannot get member in wechaty room!`)\n  }\n}\n")),(0,r.kt)("h4",{id:"example-find-member-by-memberqueryfilter"},"Example ","(","Find member by MemberQueryFilter",")"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst room = await bot.Room.find({topic: 'wechaty'})          // change 'wechaty' to any room name in your wechat\nif (room) {\n  const member = await room.member({name: 'lijiarui'})        // change 'lijiarui' to any room member in your wechat\n  if (member) {\n    console.log(`wechaty room got the member: ${member.name()}`)\n  } else {\n    console.log(`cannot get member in wechaty room!`)\n  }\n}\n")),(0,r.kt)("h3",{id:"roomowner--contact--null"},"room.owner","(",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Contact")," ","|"," ",(0,r.kt)("inlineCode",{parentName:"h3"},"null")),(0,r.kt)("p",null,"The method gets the room's owner from the room."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("h4",{id:"example-7"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const owner = room.owner()\n")),(0,r.kt)("h3",{id:"roomavatar--promise-filebox"},"room.avatar","(",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <FileBox>")),(0,r.kt)("p",null,"The method gets room's avatar.Check the below example for implementation."),(0,r.kt)("blockquote",null,(0,r.kt)("p",{parentName:"blockquote"},"Tips: This function is depending on the Puppet Implementation, see ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/wechaty/wechaty/wiki/Puppet#3-puppet-compatible-table"},"puppet-compatible-table"))),(0,r.kt)("h4",{id:"example-8"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const owner = room.avatar()\n")),(0,r.kt)("h2",{id:"static-methods-1"},"Static Methods"),(0,r.kt)("h3",{id:"roomcreatecontactlist-topic--promise-room"},"Room.create","(","contactList, ","[","topic","]",")"," \u21d2 ",(0,r.kt)("a",{parentName:"h3",href:"/docs/api/room#Room"},(0,r.kt)("inlineCode",{parentName:"a"},"Promise <Room>"))),(0,r.kt)("p",null,"The method creates a new room.Check the below example for implementation."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contactList"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"Array"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"[","topic","]"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string"))))),(0,r.kt)("h4",{id:"example-creat-a-room-with-lijiarui-and-juxiaomi-the-room-topic-is-ding---created"},"Example ",(0,r.kt)("em",{parentName:"h4"},"(","Creat a room with 'lijiarui' and 'juxiaomi', the room topic is 'ding - created'",")")),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const helperContactA = await Contact.find({ name: 'lijiarui' })  // change 'lijiarui' to any contact in your wechat\nconst helperContactB = await Contact.find({ name: 'juxiaomi' })  // change 'juxiaomi' to any contact in your wechat\nconst contactList = [helperContactA, helperContactB]\nconsole.log('Bot', 'contactList: %s', contactList.join(','))\nconst room = await Room.create(contactList, 'ding')\nconsole.log('Bot', 'createDingRoom() new ding room created: %s', room)\nawait room.topic('ding - created')\nawait room.say('ding - created')\n")),(0,r.kt)("h3",{id:"roomfindallquery--promise-room-"},"Room.findAll","(","[","query","]",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <Room []>")),(0,r.kt)("p",null,"The method finds the  room by by filter: {topic: string ","|"," RegExp},  and returns all the matched rooms.Check the below example for implementation."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"[","query","]"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomQueryFilter"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomQueryFilter")))))),(0,r.kt)("h4",{id:"example-9"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in\nconst roomList = await bot.Room.findAll()                    // get the room list of the bot\nconst roomList = await bot.Room.findAll({topic: 'wechaty'})  // find all of the rooms with name 'wechaty'\n")),(0,r.kt)("h3",{id:"roomfindquery--promise-room"},"Room.find","(","query",")"," \u21d2 ",(0,r.kt)("inlineCode",{parentName:"h3"},"Promise <Room>")),(0,r.kt)("p",null,"Try to find a room by filter: {topic: string ","|"," RegExp}. The method returns ",(0,r.kt)("inlineCode",{parentName:"p"},"Promise <Room>")," String - If it finds the room,or return ",(0,r.kt)("inlineCode",{parentName:"p"},"null"),".If the method gets get many,it returns the first one."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Param"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"query"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("a",{parentName:"td",href:"/docs/api/room#RoomQueryFilter"},(0,r.kt)("inlineCode",{parentName:"a"},"RoomQueryFilter")))))),(0,r.kt)("h4",{id:"example-10"},"Example"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-javascript"},"const bot = new Wechaty()\nawait bot.start()\n// after logged in...\nconst roomList = await bot.Room.find()\nconst roomList = await bot.Room.find({topic: 'wechaty'})\n")),(0,r.kt)("h2",{id:"typedefs"},"Typedefs"),(0,r.kt)("p",null,"There are many Typedefs supported by ",(0,r.kt)("inlineCode",{parentName:"p"},"Room")," and details about each of the typedefs are given below :"),(0,r.kt)("h2",{id:"roomqueryfilter"},"RoomQueryFilter"),(0,r.kt)("p",null,"This typedef is used as a filter to find the room: {topic: string ","|"," RegExp}."),(0,r.kt)("h3",{id:"properties-1"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"topic"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string"))))),(0,r.kt)("h2",{id:"roomeventname"},"RoomEventName"),(0,r.kt)("p",null,"Room Class Event Type"),(0,r.kt)("h3",{id:"properties-2"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"join"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Emit when anyone join any room.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"topic"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Get topic event, emitted when someone change room topic.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"leave"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},'Emit when anyone leave the room.                                If someone leaves the room by themselves, wechat will not notice other people in the room, so the bot will never get the "leave" event.')))),(0,r.kt)("h2",{id:"roomeventfunction"},"RoomEventFunction"),(0,r.kt)("p",null,"This typedef is a Room Class Event Function that has the following properties as listed below:"),(0,r.kt)("h3",{id:"properties-3"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"room-join"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"function")),(0,r.kt)("td",{parentName:"tr",align:"left"},"(","this: Room, inviteeList: Contact","[","]"," , inviter: Contact",")","  =",">"," void")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"room-topic"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"function")),(0,r.kt)("td",{parentName:"tr",align:"left"},"(","this: Room, topic: string, oldTopic: string, changer: Contact",")"," =",">"," void")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"room-leave"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"function")),(0,r.kt)("td",{parentName:"tr",align:"left"},"(","this: Room, leaver: Contact",")"," =",">"," void")))),(0,r.kt)("h2",{id:"roommemberqueryfilter"},"RoomMemberQueryFilter"),(0,r.kt)("p",null,"This typedef is used to search member by Room.member","(",")","."),(0,r.kt)("h3",{id:"properties-4"},"Properties"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Type"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Description"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"name"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Find the contact by wechat name in a room, equal to ",(0,r.kt)("inlineCode",{parentName:"td"},"Contact.name()"),".")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"roomAlias"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Find the contact by alias set by the bot for others in a room.")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"contactAlias"),(0,r.kt)("td",{parentName:"tr",align:"left"},(0,r.kt)("inlineCode",{parentName:"td"},"string")),(0,r.kt)("td",{parentName:"tr",align:"left"},"Find the contact by alias set by the contact out of a room, equal to ",(0,r.kt)("inlineCode",{parentName:"td"},"Contact.alias()"),". ",(0,r.kt)("a",{parentName:"td",href:"https://github.com/wechaty/wechaty/issues/365"},"More Detail"))))))}s.isMDXComponent=!0}}]);